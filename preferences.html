<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  
  <!-- Primary Meta Tags -->
  <title>ุฅุฏุงุฑุฉ ุงูุฑุบุจุงุช | ุฌูุนูุฉ ุนุงุฆููุฉ</title>
  <meta name="description" content="ุตูุญุฉ ุฅุฏุงุฑุฉ ูุชุญุฏูุซ ุฑุบุจุงุช ุงููุดุชุฑููู ูู ุฌูุนูุฉ ุนุงุฆููุฉ">
  <meta name="keywords" content="ุฑุบุจุงุช, ูุดุชุฑู, ุฌูุนูุฉ, ุนุงุฆููุฉ, ุฅุฏุงุฑุฉ">
  <meta name="author" content="ุฌูุนูุฉ ุนุงุฆููุฉ">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  
  <!-- CSS -->
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/theme_subscriber.css">
  <link rel="stylesheet" href="css/components/table.css">
  <link rel="stylesheet" href="css/components/card.css">
  <link rel="stylesheet" href="css/components/button.css">
  
  <!-- Preload Critical Assets -->
  <link rel="preload" href="js/auth.js" as="script">
  <link rel="preload" href="js/api.js" as="script">
  
  <!-- Fonts if any -->
</head>

<body class="theme-subscriber">
  
  <!-- Skip to Main Content -->
  <a href="#main-content" class="skip-link">ุชุฎุทู ุฅูู ุงููุญุชูู ุงูุฑุฆูุณู</a>
  
  <!-- Header -->
  <header class="app-header" role="banner">
    <div class="container">
      <nav class="main-nav" aria-label="ุชุตูุญ ุงููููุน">
        <ul class="nav-list">
          <li class="nav-item">
            <a href="subscriber.html" class="nav-link nav-link--back" aria-label="ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ">
              <span class="nav-icon" aria-hidden="true">โ</span>
              ุฑุฌูุน
            </a>
          </li>
          
          <li class="nav-item nav-item--brand">
            <a href="index.html" class="nav-brand">
              <span class="brand-icon" aria-hidden="true">๐</span>
              <span class="brand-text">ุฌูุนูุฉ ุนุงุฆููุฉ</span>
            </a>
          </li>
          
          <li class="nav-item">
            <a href="contact.html" class="nav-link nav-link--contact">
              <span class="nav-icon" aria-hidden="true">โ๏ธ</span>
              ุงูุชูุงุตู
            </a>
          </li>
        </ul>
        
        <!-- User Info (if logged in) -->
        <div class="user-info" id="user-info" hidden>
          <span class="user-name" id="user-name"></span>
        </div>
      </nav>
    </div>
  </header>
  
  <!-- Main Content -->
  <main id="main-content" class="container" role="main">
    
    <!-- Page Header -->
    <div class="page-header">
      <h1 class="page-title">ุฅุฏุงุฑุฉ ุงูุฑุบุจุงุช ุงูุดูุฑูุฉ</h1>
      <p class="page-subtitle">ุชุนุฏูู ูุชุญุฏูุซ ุฑุบุจุงุช ุงูุงุณุชูุงู ุงูุฎุงุตุฉ ุจู</p>
      
      <div class="page-actions">
        <button id="btnReload" class="btn btn--icon btn--small" type="button" aria-label="ุชุญุฏูุซ ุงูุจูุงูุงุช">
          <span class="btn-icon" aria-hidden="true">๐</span>
          ุชุญุฏูุซ
        </button>
      </div>
    </div>
    
    <!-- Info Cards -->
    <div class="info-grid">
      <div class="info-card info-card--header" id="prefHeader">
        <div class="info-card__content">
          <p class="info-text muted">ุฌุงุฑู ุชุญููู ูุนูููุงุช ุงูุฑุบุจุงุช...</p>
        </div>
      </div>
      
      <div class="info-card info-card--notice hidden" id="prefNotice" role="alert">
        <div class="info-card__content">
          <!-- Dynamic notice content -->
        </div>
      </div>
      
      <div class="info-card info-card--summary" id="prefSummary">
        <div class="info-card__content">
          <!-- Dynamic summary content -->
        </div>
      </div>
      
      <div class="info-card info-card--danger hidden" id="prefBlockReason" role="alert">
        <div class="info-card__content">
          <!-- Block reason content -->
        </div>
      </div>
    </div>
    
    <!-- Preferences Table -->
    <section class="preferences-section" aria-labelledby="preferences-title">
      <div class="section-header">
        <h2 id="preferences-title" class="section-title">ุฌุฏูู ุงูุฑุบุจุงุช ุงูุดูุฑูุฉ</h2>
        <p class="section-description small muted">ููููู ุชุนุฏูู ุงูุฑุบุจุงุช ููุฃุดูุฑ ุงููุชุงุญุฉ</p>
      </div>
      
      <div class="table-container">
        <div class="table-responsive" role="region" aria-labelledby="preferences-title" tabindex="0">
          <table class="data-table" id="preferences-table">
            <caption class="visually-hidden">ุฌุฏูู ุฑุบุจุงุช ุงููุดุชุฑู ุงูุดูุฑูุฉ ูุน ุชูุงุตูู ุงูุฃุณูู ูุงูููู</caption>
            <thead>
              <tr>
                <th scope="col" class="col-number">#</th>
                <th scope="col" class="col-month">ุงูุดูุฑ ุงููููุงุฏู</th>
                <th scope="col" class="col-hijri">ุงูุดูุฑ ุงููุฌุฑู</th>
                <th scope="col" class="col-shares">ุฃุณูู ุงูุงุณุชูุงู</th>
                <th scope="col" class="col-type">ููุน ุงูุฑุบุจุฉ</th>
                <th scope="col" class="col-remaining">ุงููุชุจูู</th>
                <th scope="col" class="col-value">ูููุฉ ุงูุงุณุชูุงู</th>
                <th scope="col" class="col-status">ุญุงูุฉ ุงูุดูุฑ</th>
              </tr>
            </thead>
            <tbody id="prefTbody">
              <!-- Dynamic content will be inserted here -->
              <tr class="loading-row">
                <td colspan="8" class="text-center">
                  <div class="loading-indicator">
                    <span class="loading-spinner" aria-hidden="true"></span>
                    ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช...
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <!-- Table Legend -->
        <div class="table-legend">
          <div class="legend-item">
            <span class="legend-color legend-color--available"></span>
            <span class="legend-text">ูุชุงุญ ููุชุนุฏูู</span>
          </div>
          <div class="legend-item">
            <span class="legend-color legend-color--locked"></span>
            <span class="legend-text">ูุบูู</span>
          </div>
          <div class="legend-item">
            <span class="legend-color legend-color--received"></span>
            <span class="legend-text">ุชู ุงูุงุณุชูุงู</span>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Action Buttons -->
    <div class="action-bar">
      <div class="action-buttons">
        <button id="btnBack" class="btn btn--secondary" type="button">
          <span class="btn-icon" aria-hidden="true">โ</span>
          ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ
        </button>
        
        <button id="btnSavePrefs" class="btn btn--primary" type="button" disabled>
          <span class="btn-icon" aria-hidden="true">๐พ</span>
          ุญูุธ ุงูุชุบููุฑุงุช
        </button>
      </div>
      
      <div class="action-help">
        <p class="small muted">
          <span aria-hidden="true">๐ก</span>
          <strong>ููุงุญุธุฉ:</strong> ุณูุชู ุฅุฑุณุงู ุงูุชุบููุฑุงุช ุชููุงุฆููุง ุจุนุฏ ุงูุญูุธ
        </p>
      </div>
    </div>
    
  </main>
  
  <!-- Footer -->
  <footer class="app-footer" role="contentinfo">
    <div class="container">
      <div class="footer-content">
        <p class="footer-text small muted">
          ยฉ ุฌูุนูุฉ ุนุงุฆููุฉ <span id="current-year"></span> | 
          <a href="privacy.html" class="footer-link">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a> | 
          <a href="terms.html" class="footer-link">ุงูุดุฑูุท ูุงูุฃุญูุงู</a>
        </p>
        <p class="footer-text small">
          ุขุฎุฑ ุชุญุฏูุซ: <span id="last-updated-time"></span>
        </p>
      </div>
    </div>
  </footer>
  
  <!-- Loading Overlay -->
  <div id="loading-overlay" class="loading-overlay" hidden role="alert" aria-live="assertive">
    <div class="loading-content">
      <div class="loading-spinner large"></div>
      <p class="loading-text">ุฌุงุฑู ุญูุธ ุงูุชุบููุฑุงุช...</p>
    </div>
  </div>
  
  <!-- Confirmation Modal -->
  <div id="confirmation-modal" class="modal" hidden role="dialog" aria-labelledby="modal-title" aria-modal="true">
    <div class="modal-content">
      <h3 id="modal-title" class="modal-title">ุชุฃููุฏ ุงูุญูุธ</h3>
      <p class="modal-message" id="modal-message">ูู ุฃูุช ูุชุฃูุฏ ูู ุญูุธ ุงูุชุบููุฑุงุชุ</p>
      <div class="modal-actions">
        <button id="modal-cancel" class="btn btn--secondary" type="button">ุฅูุบุงุก</button>
        <button id="modal-confirm" class="btn btn--primary" type="button">ุชุฃููุฏ ุงูุญูุธ</button>
      </div>
    </div>
  </div>
  
  <!-- JavaScript -->
  <script>
    // Config and initial state
    window.AppConfig = {
      version: '20260108_1',
      apiBaseUrl: '/api',
      userPreferences: null,
      autoSave: false,
      debugMode: false
    };
  </script>
  
  <!-- Bundle JS files for better performance -->
  <script src="js/vendor.js?v=20260108_1"></script>
  <script src="js/app.bundle.js?v=20260108_1"></script>
  
  <!-- Inline script for initial setup -->
  <script>
    // Set current year in footer
    document.getElementById('current-year').textContent = new Date().getFullYear();
    
    // Set last updated time
    const lastUpdated = document.getElementById('last-updated-time');
    lastUpdated.textContent = new Date().toLocaleDateString('ar-SA', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit'
    });
    
    // Initialize accessibility features
    document.addEventListener('DOMContentLoaded', function() {
      // Focus management
      const mainContent = document.getElementById('main-content');
      if (window.location.hash !== '#main-content') {
        mainContent.setAttribute('tabindex', '-1');
        mainContent.focus();
      }
      
      // Add loading state to reload button
      const reloadBtn = document.getElementById('btnReload');
      if (reloadBtn) {
        reloadBtn.addEventListener('click', function() {
          this.classList.add('loading');
          this.setAttribute('aria-label', 'ุฌุงุฑู ุงูุชุญุฏูุซ...');
          this.setAttribute('disabled', 'true');
        });
      }
    });
  </script>
</body>
</html>